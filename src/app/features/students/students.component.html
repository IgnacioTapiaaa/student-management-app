<div class="students-container">
  <!-- Page Header -->
  <div class="page-header">
    <h1 appFontSize="20" class="page-title">Student Management</h1>
    <p class="page-subtitle">Add, edit, and manage students</p>
  </div>

  <!-- Loading Indicator -->
  @if (loading$ | async) {
    <div class="loading-container">
      <mat-spinner></mat-spinner>
      <p>Loading students...</p>
    </div>
  }

  <!-- Error Message -->
  @if (error$ | async; as error) {
    <mat-card class="error-card">
      <mat-card-content>
        <p class="error-message">{{ error }}</p>
      </mat-card-content>
    </mat-card>
  }

  <!-- Student Form Component -->
  <app-student-form
    [formTitle]="formTitle()"
    [submitButtonText]="submitButtonText()"
    [studentToEdit]="editingStudent()"
    (studentSubmit)="onStudentSubmit($event)"
    (formCancel)="onFormCancel()">
  </app-student-form>

  <!-- Student Stats Component -->
  <app-student-stats
    [totalStudents]="(totalStudents$ | async) || 0"
    [averageAge]="(averageAge$ | async) || 0">
  </app-student-stats>

  <!-- Student List Component -->
  <app-student-list
    [students]="(students$ | async) || []"
    (editStudent)="onEditStudent($event)"
    (deleteStudent)="onDeleteStudent($event)">
  </app-student-list>
</div>
